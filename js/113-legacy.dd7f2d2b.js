"use strict";(self["webpackChunkvuejs_precise"]=self["webpackChunkvuejs_precise"]||[]).push([[113],{113:function(e,t,a){a.r(t),a.d(t,{default:function(){return m}});var r=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},n=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("body",[a("div",{staticClass:"loader"})])}],o=a(6198),c=(a(5666),a(9669)),s=a.n(c),u=a(8815),l=a(6814),i=a.n(l),d=(a(6665),{name:"RedirectIg",components:{},data:function(){return{client_ip:null}},created:function(){var e=this;return(0,o.Z)(regeneratorRuntime.mark((function t(){var a,r,n,o,c,l,d,p;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,s().get("https://api.ipify.org?format=json").then((function(t){e.client_ip=t.data.ip})).catch((function(e){console.log("Dashboard.vue (error) :: ",e)}));case 2:return t.prev=2,a=new Date,r=a.getMonth()+1,n=a.getDate(),r<10&&(r="0"+r),n<10&&(n="0"+n),o=a.getFullYear()+""+r+n,c=o,l="SSO4lfag1ft"+c+"precise",d=i()(l),p=e.$route.query.id,t.next=15,s().get(u.Y+"/event-list?token="+d+"&link_id="+p).then((function(t){if("success"==t.data.response_message){if(localStorage.setItem("voucher_token","7ce7fc0a19aefa2-b266f5dbf6eeb5-f7ey7yf772vdfv626"),localStorage.setItem("pe_end_date",t.data.data[0].pe_end_date),Date.parse(t.data.data[0].pe_end_date)-Date.parse(new Date)<0)return localStorage.removeItem("voucher_token"),localStorage.removeItem("pe_end_date"),void e.$router.push({name:"promo-berakhir"});localStorage.setItem("pe_id",t.data.data[0].pe_id),localStorage.setItem("voucher_type",t.data.data[0].pe_type),localStorage.setItem("subject_mail",t.data.data[0].pe_subject_mail),localStorage.setItem("client_ip",e.client_ip);var a=t.data.data[0].pe_body_mail;e.$router.push({name:"form",params:{router_data:a}})}else e.$router.push({name:"notFound"})})).catch((function(e){console.log("Dashboard.vue (error) :: ",e)}));case 15:t.next=21;break;case 17:t.prev=17,t.t0=t["catch"](2),console.error(t.t0),alert("Error: koneksi gagal");case 21:case"end":return t.stop()}}),t,null,[[2,17]])})))()},mounted:function(){},methods:{}}),p=d,_=a(1001),f=(0,_.Z)(p,r,n,!1,null,"69a6e9dd",null),m=f.exports}}]);
//# sourceMappingURL=113-legacy.dd7f2d2b.js.map